@use 'sass:meta';
@use 'variables' as vars;

// ==========================================================================
// SPACING UTILITIES (MARGIN & PADDING)
// ==========================================================================
// This loop generates classes like:
// .m-1  { margin: 0.25rem; }
// .mt-2 { margin-top: 0.5rem; }
// .px-3 { padding-left: 1rem; padding-right: 1rem; }
// etc.

$properties: (
  "m": "margin",
  "p": "padding"
);

$sides: (
  "t": "top",
  "b": "bottom",
  "l": "left",
  "r": "right",
  "x": ("left", "right"),
  "y": ("top", "bottom")
);

@each $prop-abbr, $prop-full in $properties {
  // Generate classes for all sides (e.g., .m-1, .p-1)
  @each $space-key, $space-value in vars.$spacers {
    .#{$prop-abbr}-#{$space-key} {
      #{$prop-full}: $space-value !important;
    }
  }

  // Generate classes for specific sides (e.g., .mt-1, .pl-2)
  @each $side-abbr, $side-full in $sides {
    @each $space-key, $space-value in vars.$spacers {
      @if meta.type-of($side-full) == "list" {
        .#{$prop-abbr}#{$side-abbr}-#{$space-key} {
          @each $side in $side-full {
            #{$prop-full}-#{$side}: $space-value !important;
          }
        }
      } @else {
        .#{$prop-abbr}#{$side-abbr}-#{$space-key} {
          #{$prop-full}-#{$side-full}: $space-value !important;
        }
      }
    }
  }
}

// ==========================================================================
// OTHER HELPER UTILITIES
// ==========================================================================

// For hiding elements accessibly (keeps them available to screen readers)
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}